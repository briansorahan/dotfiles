#!/bin/bash
#
# Emacs setup script.
# Brian Sorahan 2012
#
#
#
JS2_REPO="git://github.com/briansorahan/js2-mode.git"
EMACS_LOAD_DIR="/usr/share/emacs/site-lisp"
#
################################################################################
#
# Create the .emacs file
#
################################################################################
#
cat >~/.emacs <<DOT_EMACS
;;
;; This file was automatically generated by emacs-setup
;;
;; Key bindings
(global-set-key (kbd \"C-<SPC>\") 'forward-word)
(global-set-key (kbd \"C-o\") 'scroll-down)

;; js2-mode
(autoload 'js2-mode "js2-mode" nil t)
(add-to-list 'auto-mode-alist '("\\.js$" . js2-mode))

;; make pretty colors in the shell
(add-hook 'shell-mode-hook 'ansi-color-for-comint-mode-on)

;; Dired-details
(require 'dired-details)
(require 'dired-details+)

;; Workgroups
(require 'workgroups)
(workgroups-mode 1)

DOT_EMACS
#
################################################################################
#
# Setup js2-mode
#
################################################################################
#
cd /tmp
git clone ${JS2_REPO}
cd js2-mode
emacs -f byte-compile js2-mode.el
rm ${EMACS_LOAD_DIR}/js2-mode*
cp js2-mode.elc ${EMACS_LOAD_DIR}
cd .. && rm -rf js2-mode
#
################################################################################
#
# Setup dired-details (and dired-details+)
#
################################################################################
#
cd ${EMACS_LOAD_DIR}
wget http://www.emacswiki.org/emacs/download/dired-details.el
wget http://www.emacswiki.org/emacs-en/download/dired-details%2b.el
